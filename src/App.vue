<template>
  <div class="chuseok-page">
    <div class="background">
      <div class="moon"></div>
      <div class="floating-messages">
        <span
            v-for="(msg, index) in messages"
            :key="index"
            class="floating-text"
            :style="{
            top: `${randomHeights[index]}%`,
            color: getTextColor(randomHeights[index]),
            animationDelay: `${index * 3}s`
          }"
        >
          {{ msg }}
        </span>
      </div>
    </div>

    <header class="hero">
      <h1>ğŸŒ• í•œê°€ìœ„, ë§ˆìŒì„ ë‚˜ëˆ„ëŠ” ë‚  ğŸŒ¾</h1>
      <p>í’ìš”ë¡œìš´ ë‹¬ë¹› ì•„ë˜ì—ì„œ í•¨ê»˜í•˜ëŠ” ë”°ëœ»í•œ ì´ì•¼ê¸°</p>
    </header>

    <main>
      <section class="intro">
        <h2>ì¶”ì„ì´ë€?</h2>
        <p>
          ì¶”ì„ì€ ìŒë ¥ 8ì›” 15ì¼, í•œ í•´ì˜ ìˆ˜í™•ì„ ê°ì‚¬í•˜ê³  ì¡°ìƒì—ê²Œ ì˜ˆë¥¼ ì˜¬ë¦¬ëŠ” í•œêµ­ì˜ ëŒ€í‘œ ëª…ì ˆì…ë‹ˆë‹¤.
          ê°€ì¡±ì´ ëª¨ì—¬ ì†¡í¸ì„ ë¹šê³ , ì¡°ìƒê»˜ ì°¨ë¡€ë¥¼ ì˜¬ë¦¬ë©°, ì´ì›ƒê³¼ ì •ì„ ë‚˜ëˆ„ëŠ” ë‚ ì´ì§€ìš”.
        </p>
      </section>

      <section class="origin">
        <h2>ì¶”ì„ì˜ ìœ ë˜</h2>
        <p>
          ì¶”ì„ì€ ì‹ ë¼ ì‹œëŒ€ì˜ â€˜ê°€ë°°(å˜‰ä¿³)â€™ í’ìŠµì—ì„œ ìœ ë˜í–ˆìŠµë‹ˆë‹¤.
          ë‘ í¸ìœ¼ë¡œ ë‚˜ëˆ„ì–´ í•œ ë‹¬ ë™ì•ˆ ê¸¸ìŒˆì„ í•˜ê³ , ìŠ¹íŒ¨ì— ë”°ë¼ ì”ì¹˜ë¥¼ ë²Œì˜€ë˜ í’ìŠµì´
          ì˜¤ëŠ˜ë‚ ì˜ ìˆ˜í™• ê°ì‚¬ ì ˆê¸°ë¡œ ë°œì „í•œ ê²ƒì´ì§€ìš”.
        </p>
      </section>

      <section class="foods">
        <h2>ì „í†µ ìŒì‹</h2>
        <ul>
          <li><strong>ì†¡í¸</strong> â€” í–‡ê³¡ìœ¼ë¡œ ë¹šì€ ë°˜ë‹¬ ëª¨ì–‘ ë–¡. ê°€ì¡±ì˜ ì†Œì›ì„ ë‹´ìŠµë‹ˆë‹¤.</li>
          <li><strong>ìœ¡ì „</strong> â€” ì–‡ê²Œ ì¬ ê³ ê¸°ì— ë‹¬ê±€ì˜·ì„ ì…í˜€ ì§€ì§„ ëª…ì ˆ ëŒ€í‘œ ìŒì‹.</li>
          <li><strong>ì¡ì±„</strong> â€” ì—¬ëŸ¬ ì±„ì†Œì™€ ë‹¹ë©´ì„ í•¨ê»˜ ë³¶ì€ í™”í•©ì˜ ìŒì‹.</li>
        </ul>
      </section>

      <section class="games">
        <h2>ì „í†µ ë†€ì´</h2>
        <ul>
          <li><strong>ì¥ë¶ˆë†€ì´</strong> â€” ë¶ˆì„ ëŒë¦¬ë©° í’ë…„ì„ ê¸°ì›í•˜ëŠ” ëª…ì ˆ ë†€ì´.</li>
          <li><strong>ì œê¸°ì°¨ê¸°</strong> â€” ì œê¸°ë¥¼ ë†’ì´ ì°¨ ì˜¬ë¦¬ë©° ì¦ê¸°ëŠ” ìš´ë™ ê²¸ ë†€ì´.</li>
        </ul>
      </section>

      <section class="guestbook">
        <h2>ğŸŒ¾ í•œê°€ìœ„ ë°©ëª…ë¡</h2>
        <form @submit.prevent="addMessage">
          <input v-model="newMessage" placeholder="ì¶”ì„ ì¸ì‚¬ë¥¼ ë‚¨ê²¨ì£¼ì„¸ìš”!" required />
          <button type="submit">ë‚¨ê¸°ê¸°</button>
        </form>

        <ul class="guest-list">
          <li v-for="(msg, idx) in messages" :key="idx">
            {{ msg }}
          </li>
        </ul>
      </section>
    </main>

    <footer>
      <p>Â© 2025 í•œê°€ìœ„ì˜ ë§ˆìŒ | í’ìš”ë¡œìš´ ì¶”ì„ ë˜ì„¸ìš” ğŸŒ•</p>
    </footer>
  </div>
</template>

<script lang="ts" setup>
import { ref, onMounted } from 'vue'

const messages = ref<string[]>([
  'ë³´ë¦„ë‹¬ì²˜ëŸ¼ ë°ì€ í•œê°€ìœ„ ë˜ì„¸ìš” ğŸŒ•',
  'ê°€ì¡±ê³¼ í•¨ê»˜ ì¦ê±°ìš´ ëª…ì ˆ ë³´ë‚´ì„¸ìš” ğŸ‘',
  'í’ì„±í•œ ë§ˆìŒìœ¼ë¡œ í–‰ë³µì„ ë‚˜ëˆ„ì„¸ìš” ğŸ‚',
  'ë©€ë¦¬ ìˆì–´ë„ ë§ˆìŒì€ í•¨ê»˜ ğŸŒ¾',
  'ê±´ê°•í•˜ê³  ë”°ëœ»í•œ ì¶”ì„ ë³´ë‚´ì„¸ìš” ğŸ’›',
])

const newMessage = ref('')
const randomHeights = ref<number[]>([])

onMounted(() => {
  randomHeights.value = messages.value.map(() =>
      Math.floor(Math.random() * 70) + 10
  )
})

function getTextColor(topPercent: number) {
  if (topPercent < 40 && topPercent > 10) {
    return '#f0e5a2'
  }
  return '#ffffffb3'
}

function addMessage() {
  if (newMessage.value.trim()) {
    messages.value.push(newMessage.value.trim())
    randomHeights.value.push(Math.floor(Math.random() * 70) + 10)
    newMessage.value = ''
  }
}
</script>

<style scoped>
.chuseok-page {
  font-family: 'Pretendard', sans-serif;
  color: #f5f5f5;
  background: radial-gradient(circle at 70% 20%, #3b2c5a, #1b152a 80%);
  min-height: 100vh;
  overflow-x: hidden;
  position: relative;
}

.moon {
  position: absolute;
  top: 80px;
  right: 15%;
  width: 200px;
  height: 200px;
  background: radial-gradient(circle, #fffde8 60%, #f7eeb5 85%, #e0d38f 100%);
  border-radius: 50%;
  box-shadow: 0 0 40px 20px rgba(255, 255, 200, 0.3);
  animation: pulse 6s ease-in-out infinite;
}

@keyframes pulse {
  0%, 100% {
    transform: scale(1);
    opacity: 0.95;
  }
  50% {
    transform: scale(1.05);
    opacity: 1;
  }
}

.floating-messages {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  pointer-events: none;
}

.floating-text {
  position: absolute;
  left: 100%;
  white-space: nowrap;
  font-size: 1rem;
  font-weight: 500;
  text-shadow: 0 0 6px rgba(0, 0, 0, 0.6);
  animation: floatText 22s linear infinite;
  pointer-events: none;
  opacity: 0.9;
}

@keyframes floatText {
  0% {
    transform: translateX(100%) translateY(0);
  }
  50% {
    transform: translateX(0%) translateY(3px);
  }
  100% {
    transform: translateX(-120%) translateY(0);
  }
}

.hero {
  text-align: center;
  padding: 120px 20px 60px;
}

.hero h1 {
  font-size: 2.4rem;
  margin-bottom: 12px;
}

.hero p {
  font-size: 1.1rem;
  color: #ffda8b;
}

section {
  max-width: 800px;
  margin: 60px auto;
  padding: 0 20px;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 12px;
  backdrop-filter: blur(6px);
}

section h2 {
  font-size: 1.5rem;
  border-bottom: 2px solid #f5d67c;
  padding-bottom: 6px;
  margin-bottom: 16px;
  color: #ffe8b5;
}

ul {
  list-style: none;
  padding: 0;
}

li {
  margin-bottom: 10px;
}

.guestbook form {
  display: flex;
  gap: 8px;
  margin-bottom: 16px;
}

.guestbook input {
  flex: 1;
  padding: 10px;
  border: none;
  border-radius: 6px;
}

.guestbook button {
  background: #f5d67c;
  border: none;
  border-radius: 6px;
  padding: 10px 16px;
  cursor: pointer;
  font-weight: bold;
  transition: 0.3s;
}

.guestbook button:hover {
  background: #ffecb3;
}

footer {
  text-align: center;
  margin: 60px 0;
  font-size: 0.9rem;
  color: #ccc;
}
</style>
